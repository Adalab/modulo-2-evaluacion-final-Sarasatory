"use strict";const inputSearch=document.querySelector(".js_input_search"),btnSearch=document.querySelector(".js_btn_search"),btnReset=document.querySelector(".js_btn_reset"),listSearchCKT=document.querySelector(".js_list_search_CKT"),listFavoritesCKT=document.querySelector(".js_list_favorites_CKT"),searchURL="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=",nonAlcoholicURL="https://www.thecocktaildb.com/api/json/v1/1/filter.php?a=Non_Alcoholic",margaritaURL="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=margarita",mojitoURL="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=mojito",ginURL="https://www.thecocktaildb.com/api/json/v1/1/search.php?s=gin",randonURL="https://www.thecocktaildb.com/api/json/v1/1/random.php";let callApiUrl="",randonIni=1,cocktails=[],cocktailsFavorites=[],swt=0;function setLocalStorage(){const o=JSON.stringify(cocktailsFavorites);localStorage.setItem("localFavoritesList",o)}function getLocalStorage(){console.log("Entro en gelLocalStorage");const o=localStorage.getItem("localFavoritesList");if(console.log("Llego a locStoCocktailsFavorites"),null!==o&&o!==[]){console.log("Entra en !== null");const t=JSON.parse(o);cocktailsFavorites=t,paintFun(cocktailsFavorites,1)}}function addRemoveFavorites(o){console.log("Entra en addRemoveFavorites");const t=o.currentTarget.id;console.log("ID: ",t),console.log("ID WWWWWWWWWWWWW---\x3e: ",t);const e=cocktails.find(o=>o.idDrink===t);console.log("Objeto (cóctel) clickado: ",e);const n=cocktailsFavorites.findIndex(o=>o.idDrink===t);console.log("Indice del elemento clickado: ",n),-1===n?(console.log("No estaba, ¡LO PONGO!"),cocktailsFavorites.push(e)):(console.log("Estaba, ¡LO QUITO!"),cocktailsFavorites.splice(n,1)),setLocalStorage(),paintFun(cocktailsFavorites,1),paintFun(cocktails,0),console.log(cocktailsFavorites)}function listenCocktails(){console.log("Entra en listenCocktails");const o=document.querySelectorAll(".js_icon_favorite");for(const t of o)t.addEventListener("click",addRemoveFavorites)}function ApiUrlGenerator(o){console.log("Entra en ApiUrlGenerator");const t=o.currentTarget.id;console.log("ID: ",t),"nonAlc"===t&&(callApiUrl=nonAlcoholicURL),"mar"===t&&(callApiUrl=margaritaURL),"moj"===t&&(callApiUrl=mojitoURL),"gin"===t&&(callApiUrl=ginURL),"ran"===t&&(callApiUrl=randonURL),callApi(callApiUrl)}function listenPredefinedList(){console.log("Entra en listenPredefinedList");const o=document.querySelectorAll(".js_header_link");console.log("listPredefined: ",o);for(const t of o)t.addEventListener("click",ApiUrlGenerator)}function paintFun(o,t){console.log("MIERDA DE CKT",o),console.log("Entra en paintFun"),console.log(o);let e="";for(let t=0;t<o.length;t++){const n=o[t];let c="",l="fa-regular";-1!==cocktailsFavorites.findIndex(e=>e.idDrink===o[t].idDrink)&&(c="favorite",l="fa-solid");const i=o[t].strDrinkThumb;if(""===o[t].strDrinkThumb){}e+=`\n      <li class="cocktailCard js_cocktail_card ${c}" id="${o[t].idDrink}">\n         <i class="cocktailCard__icon-favourite js_icon_favorite ${l} fa-heart" id="${o[t].idDrink}"></i>\n           <h3 class="cocktailCard__title">${o[t].strDrink}</h3>\n           <img\n             src="${i}"\n             alt="${o[t].strDrink}"\n             class="cocktailCard__img"\n           />\n           <p class="cocktailCard__alcoholic">${o[t].strAlcoholic}</p>\n\n           <p class="cocktailCard__ingredients">Ingredientes:</p>\n\n           <ol class="cocktailCard__list-ingredients">`;for(let o=1;o<16;o++){const t="strIngredient".concat(o);null!==n[t]&&""!==n[t]&&void 0!==n[t]&&(e+=`<li class="cocktailCard__list-ingredients__li">${n[t]}</li>`)}e+="</ol></li>"}0===t?(console.log("Entra en pintar cocktails buscados"),listSearchCKT.innerHTML="Buscados",listSearchCKT.innerHTML+=e):(console.log("Entra en pintar cocktails favorites"),listFavoritesCKT.innerHTML="Favoritos",listFavoritesCKT.innerHTML+=e),listenCocktails()}function callApi(o){fetch(o).then(o=>o.json()).then(o=>{cocktails=o.drinks,paintFun(cocktails,0)})}function getRandonCocktails(){console.log("Entra en getRandonCocktails");for(let o=0;o<2;o++)fetch(randonURL).then(o=>o.json()).then(o=>{cocktails.push(o.drinks[0]),paintFun(cocktails,0),console.log("data.drinks[0] MMMM---\x3e",o.drinks[0])})}function handleClickSearch(o){console.log("Entra en handleClickSearch"),o.preventDefault();let t="";t=inputSearch.value,callApiUrl=searchURL+t,callApi(callApiUrl)}function handleClickReset(){cocktails=[],cocktailsFavorites=[],setLocalStorage(),paintFun(cocktails,0),paintFun(cocktailsFavorites,1),getRandonCocktails()}btnSearch.addEventListener("click",handleClickSearch),btnReset.addEventListener("click",handleClickReset),getLocalStorage(),getRandonCocktails(),listenPredefinedList();